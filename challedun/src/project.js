require=function t(e,n,s){function o(i,c){if(!n[i]){if(!e[i]){var l="function"==typeof require&&require;if(!c&&l)return l(i,!0);if(a)return a(i,!0);var r=new Error("Cannot find module '"+i+"'");throw r.code="MODULE_NOT_FOUND",r}var u=n[i]={exports:{}};e[i][0].call(u.exports,function(t){var n=e[i][1][t];return o(n?n:t)},u,u.exports,t,e,n,s)}return n[i].exports}for(var a="function"==typeof require&&require,i=0;i<s.length;i++)o(s[i]);return o}({controlItemDaysNum:[function(t,e,n){"use strict";cc._RFpush(e,"98366vtxqVJXbzd4IE2UgmN","controlItemDaysNum"),cc.Class({"extends":cc.Component,properties:{_index:null,_text:""},onClick:function(){cc.find("Canvas");cc.find("Canvas").getComponent("main").clickButtonItemDaysNum(this.node)}}),cc._RFpop()},{}],controlItemDaysReturn:[function(t,e,n){"use strict";cc._RFpush(e,"fb101I2C+FH+pER9cveuDmS","controlItemDaysReturn"),cc.Class({"extends":cc.Component,properties:{_index:null,_text:""},onClick:function(){cc.find("Canvas");cc.find("Canvas").getComponent("main").clickButtonItemDaysReturn()}}),cc._RFpop()},{}],controlItemGet1:[function(t,e,n){"use strict";cc._RFpush(e,"4ecb7nXgMJNabQ7iv+qIbgj","controlItemGet1"),cc.Class({"extends":cc.Component,properties:{_index:null,_text:""},onClick:function(){cc.find("Canvas");cc.find("Canvas").getComponent("main").clickButtonItemGet1(this.node)}}),cc._RFpop()},{}],controlItemResult:[function(t,e,n){"use strict";cc._RFpush(e,"15476k0nExA16YPcLaXu2Oz","controlItemResult"),cc.Class({"extends":cc.Component,properties:{_index:null},onClick:function(){cc.find("Canvas").getComponent("main").clickItem(this.node)}}),cc._RFpop()},{}],main:[function(t,e,n){"use strict";cc._RFpush(e,"280c3rsZJJKnZ9RqbALVwtK","main"),cc.Class({"extends":cc.Component,properties:{itemTemplateResult:{"default":null,type:cc.Prefab},scrollViewResult:{"default":null,type:cc.ScrollView},itemTemplateGet1:{"default":null,type:cc.Prefab},scrollViewGet1:{"default":null,type:cc.ScrollView},buttonResetGet1:{"default":null,type:cc.Button},labelResetGet1:{"default":null,type:cc.Label},buttonItemDaysNum:{"default":null,type:cc.Prefab},buttonItemDaysReturn:{"default":null,type:cc.Prefab},spriteDays:{"default":null,type:cc.Node},buttonResetDays:{"default":null,type:cc.Button},labelResetDays:{"default":null,type:cc.Label},spriteLoading:{"default":null,type:cc.Sprite},labelLoading:{"default":null,type:cc.Label},_dataJson:null,_msecToDay:{"default":864e5,type:Number,readonly:!0},_daysReturnFlg:!1,_currentGet1:"",_currentDays:"",setItemSeq:0},onLoad:function(){cc.loader.load(cc.url.raw("resources/challenge.json"),function(t,e){if(null===t){this._dataJson=e;var n=new Date;n=new Date(n.getFullYear(),n.getMonth(),n.getDate(),0,0,0);for(var s=0;s<this._dataJson.length;s++){var o=Math.floor((n.getTime()-new Date(e[s].Start).getTime())/this._msecToDay),a=Math.floor((n.getTime()-new Date(e[s].End).getTime())/this._msecToDay);this._dataJson[s].Start=o.toString(),this._dataJson[s].End=a.toString(),this._dataJson[s].Days=String(a)+"〜"+String(o)+"日前"}this._dataResult=this._dataJson,this.setItemResult();for(var s=0;s<this._dataJson.length&&""!==this._dataJson[s].Get1Sort;s++){var i=cc.instantiate(this.itemTemplateGet1);i.getChildByName("labelGet1").getComponent(cc.Label).string=this._dataJson[s].Get1Sort,i.getComponent("controlItemGet1")._index=s,i.getComponent("controlItemGet1")._text=this._dataJson[s].Get1Sort,i.setPosition(0,0),this.scrollViewGet1.content.addChild(i)}for(var s=7;9>=s;s++){var i=cc.instantiate(this.buttonItemDaysNum);i.getChildByName("labelDaysNum").getComponent(cc.Label).string=s,i.getComponent("controlItemDaysNum")._index=s,i.getComponent("controlItemDaysNum")._text=s.toString(),i.setPosition(0,0),this.spriteDays.addChild(i)}for(var s=4;6>=s;s++){var i=cc.instantiate(this.buttonItemDaysNum);i.getChildByName("labelDaysNum").getComponent(cc.Label).string=s,i.getComponent("controlItemDaysNum")._index=s,i.getComponent("controlItemDaysNum")._text=s.toString(),i.setPosition(0,0),this.spriteDays.addChild(i)}for(var s=1;3>=s;s++){var i=cc.instantiate(this.buttonItemDaysNum);i.getChildByName("labelDaysNum").getComponent(cc.Label).string=s,i.getComponent("controlItemDaysNum")._index=s,i.getComponent("controlItemDaysNum")._text=s.toString(),i.setPosition(0,0),this.spriteDays.addChild(i)}var i=cc.instantiate(this.buttonItemDaysNum);i.getChildByName("labelDaysNum").getComponent(cc.Label).string=0,i.getComponent("controlItemDaysNum")._index=0,i.getComponent("controlItemDaysNum")._text="0",i.setPosition(0,0),this.spriteDays.addChild(i);var i=cc.instantiate(this.buttonItemDaysReturn);i.setPosition(0,0),this.spriteDays.addChild(i)}}.bind(this))},setItemResult:function(){this.scrollViewResult.content.removeAllChildren(),this.scrollViewResult.content.setContentSize(this.scrollViewResult.content.getContentSize().width,0);for(var t=0;t<this._dataJson.length;t++){var e=!1;""===this._currentGet1?e=!0:this._dataJson[t].Get1===this._currentGet1&&(e=!0);var n=!1;if(""===this._currentDays?n=!0:Number(this._dataJson[t].End)<=Number(this._currentDays)&&Number(this._currentDays)<=Number(this._dataJson[t].Start)&&(n=!0),e&&n){var s=cc.instantiate(this.itemTemplateResult);s.getChildByName("labelName").getComponent(cc.Label).string=this._dataJson[t].Name,s.getChildByName("labelStage").getComponent(cc.Label).string=this._dataJson[t].Stage,s.getChildByName("labelDays").getComponent(cc.Label).string=this._dataJson[t].Days;var o=this._dataJson[t].Get1;""!==this._dataJson[t].Get2&&(o=o+"\n"+this._dataJson[t].Get2),s.getChildByName("labelGet1").getComponent(cc.Label).string=o,s.getComponent("controlItemResult")._index=t,s.setPosition(0,0),this.scrollViewResult.content.addChild(s)}}this.spriteLoading.node.opacity=0,this.setItemSeq=0},clickButtonItemResult:function(t){cc.log("text")},clickButtonItemGet1:function(t){this._currentGet1=t.getComponent("controlItemGet1")._text,this.labelResetGet1.string=this._currentGet1,this._daysReturnFlg=!0,this.setItemFlg=1},clickButtonItemDaysNum:function(t){this._daysReturnFlg&&(this._daysReturnFlg=!1,this._currentDays=""),this._currentDays+=t.getComponent("controlItemDaysNum")._text,this.labelResetDays.string=this._currentDays},clickButtonItemDaysReturn:function(){""!==this._currentDays&&(this._daysReturnFlg=!0,this.setItemFlg=1)},clickButtonResetGet1:function(){""!==this._currentGet1&&(this._currentGet1="",this.setItemFlg=1,this.labelResetGet1.string=this._currentGet1)},clickButtonResetDays:function(){""!==this._currentDays&&(this._currentDays="",this.labelResetDays.string=this._currentDays,this._daysReturnFlg&&(this.setItemFlg=1,this._daysReturnFlg=!1))},update:function(t){switch(this.setItemFlg){case 1:this.spriteLoading.node.opacity=172,this.setItemFlg++;break;case 2:this.setItemResult(),this.setItemFlg++}}}),cc._RFpop()},{}]},{},["controlItemResult","main","controlItemGet1","controlItemDaysNum","controlItemDaysReturn"]);
//# sourceMappingURL=project.js.map