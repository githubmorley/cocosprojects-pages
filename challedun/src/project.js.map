{"version":3,"sources":["Applications/CocosCreator.app/Contents/Resources/app.asar/node_modules/browser-pack/_prelude.js","Script/controlItemDaysNum.js","project.js","Script/controlItemDaysReturn.js","Script/controlItemGet1.js","Script/controlItemResult.js","Script/main.js"],"names":["require","e","t","n","r","s","o","u","a","i","f","Error","code","l","exports","call","length","controlItemDaysNum","module","cc","_RFpush","Class","extends","Component","properties","_index","_text","onClick","find","getComponent","clickButtonItemDaysNum","this","node","_RFpop","controlItemDaysReturn","clickButtonItemDaysReturn","controlItemGet1","clickButtonItemGet1","controlItemResult","clickItem","main","itemTemplateResult","default","type","Prefab","scrollViewResult","ScrollView","itemTemplateGet1","scrollViewGet1","buttonResetGet1","Button","labelResetGet1","Label","buttonItemDaysNum","buttonItemDaysReturn","spriteDays","Node","buttonResetDays","labelResetDays","spriteLoading","Sprite","labelLoading","_dataJson","_msecToDay","Number","readonly","_daysReturnFlg","_currentGet1","_currentDays","setItemSeq","_resultItems","onLoad","loader","load","url","raw","error","data","today","Date","getFullYear","getMonth","getDate","startDays","Math","floor","getTime","Start","endDays","End","toString","Days","String","item","instantiate","getChildByName","string","Name","Stage","textGet","Get1","Get2","setPosition","push","_dataResult","setItemResult","Get1Sort","content","addChild","bind","removeAllChildren","setContentSize","getContentSize","width","get1Flg","daysFlg","opacity","clickButtonItemResult","log","setItemFlg","clickButtonResetGet1","clickButtonResetDays","update","dt"],"mappings":"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","file":"project.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","\"use strict\";\ncc._RFpush(module, '98366vtxqVJXbzd4IE2UgmN', 'controlItemDaysNum');\n// Script/controlItemDaysNum.js\n\ncc.Class({\n    \"extends\": cc.Component,\n\n    properties: {\n        _index: null, // インデックスを保持\n        _text: \"\" },\n\n    // ボタンのテキストを保持\n    onClick: function onClick() {\n        // クリック時のイベント\n        // 親ノードを渡す\n        var obj = cc.find(\"Canvas\");\n        cc.find(\"Canvas\").getComponent(\"main\").clickButtonItemDaysNum(this.node);\n    }\n});\n\ncc._RFpop();","require=(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({\"controlItemDaysNum\":[function(require,module,exports){\n\"use strict\";\ncc._RFpush(module, '98366vtxqVJXbzd4IE2UgmN', 'controlItemDaysNum');\n// Script/controlItemDaysNum.js\n\ncc.Class({\n    \"extends\": cc.Component,\n\n    properties: {\n        _index: null, // インデックスを保持\n        _text: \"\" },\n\n    // ボタンのテキストを保持\n    onClick: function onClick() {\n        // クリック時のイベント\n        // 親ノードを渡す\n        var obj = cc.find(\"Canvas\");\n        cc.find(\"Canvas\").getComponent(\"main\").clickButtonItemDaysNum(this.node);\n    }\n});\n\ncc._RFpop();\n},{}],\"controlItemDaysReturn\":[function(require,module,exports){\n\"use strict\";\ncc._RFpush(module, 'fb101I2C+FH+pER9cveuDmS', 'controlItemDaysReturn');\n// Script/controlItemDaysReturn.js\n\ncc.Class({\n    \"extends\": cc.Component,\n\n    properties: {\n        _index: null, // インデックスを保持\n        _text: \"\" },\n\n    // ボタンのテキストを保持\n    onClick: function onClick() {\n        // クリック時のイベント\n        // 親ノードを渡す\n        var obj = cc.find(\"Canvas\");\n        cc.find(\"Canvas\").getComponent(\"main\").clickButtonItemDaysReturn();\n    }\n});\n\ncc._RFpop();\n},{}],\"controlItemGet1\":[function(require,module,exports){\n\"use strict\";\ncc._RFpush(module, '4ecb7nXgMJNabQ7iv+qIbgj', 'controlItemGet1');\n// Script/controlItemGet1.js\n\ncc.Class({\n    \"extends\": cc.Component,\n\n    properties: {\n        _index: null, // インデックスを保持\n        _text: \"\" },\n\n    // ボタンのテキストを保持\n    onClick: function onClick() {\n        // クリック時のイベント\n        // 親ノードを渡す\n        var obj = cc.find(\"Canvas\");\n        cc.find(\"Canvas\").getComponent(\"main\").clickButtonItemGet1(this.node);\n    }\n});\n\ncc._RFpop();\n},{}],\"controlItemResult\":[function(require,module,exports){\n\"use strict\";\ncc._RFpush(module, '15476k0nExA16YPcLaXu2Oz', 'controlItemResult');\n// Script/controlItemResult.js\n\ncc.Class({\n    \"extends\": cc.Component,\n\n    properties: {\n        _index: null },\n\n    // インデックスを保持\n    onClick: function onClick() {\n        // クリック時のイベント\n        // ListViewのListViewControlコンポーネントに親ノードを渡す\n        cc.find(\"Canvas\").getComponent(\"main\").clickItem(this.node);\n    }\n});\n\ncc._RFpop();\n},{}],\"main\":[function(require,module,exports){\n\"use strict\";\ncc._RFpush(module, '280c3rsZJJKnZ9RqbALVwtK', 'main');\n// Script/main.js\n\ncc.Class({\n    \"extends\": cc.Component,\n\n    properties: {\n        // 結果一覧\n        itemTemplateResult: { // リスト項目のテンプレート\n            \"default\": null, // デフォルト値\n            type: cc.Prefab },\n        // 型\n        //type: cc.Node, // 型\n        scrollViewResult: { // 『ListView』の作成に使用した『cc.ScrollView』\n            \"default\": null, // デフォルト値\n            type: cc.ScrollView // 型\n        },\n        // 報酬一覧\n        itemTemplateGet1: { // リスト項目のテンプレート\n            \"default\": null, // デフォルト値\n            type: cc.Prefab },\n        // 型\n        //type: cc.Node, // 型\n        scrollViewGet1: { // 『cc.ScrollView』\n            \"default\": null, // デフォルト値\n            type: cc.ScrollView // 型\n        },\n        buttonResetGet1: {\n            \"default\": null, // デフォルト値\n            type: cc.Button },\n        // 型\n        labelResetGet1: {\n            \"default\": null, // デフォルト値\n            type: cc.Label },\n        // 型\n        // 日程入力\n        buttonItemDaysNum: { // リスト項目のテンプレート\n            \"default\": null, // デフォルト値\n            type: cc.Prefab },\n        // 型\n        buttonItemDaysReturn: { // リスト項目のテンプレート\n            \"default\": null, // デフォルト値\n            type: cc.Prefab },\n        // 型\n        spriteDays: {\n            \"default\": null, // デフォルト値\n            type: cc.Node },\n        // 型\n        buttonResetDays: {\n            \"default\": null, // デフォルト値\n            type: cc.Button },\n        // 型\n        labelResetDays: {\n            \"default\": null, // デフォルト値\n            type: cc.Label },\n        // 型\n        spriteLoading: {\n            \"default\": null, // デフォルト値\n            type: cc.Sprite },\n        // 型\n        labelLoading: {\n            \"default\": null, // デフォルト値\n            type: cc.Label },\n        // 型\n        _dataJson: null,\n        _msecToDay: {\n            \"default\": 1000 * 60 * 60 * 24,\n            type: Number,\n            readonly: true\n        },\n        _daysReturnFlg: false,\n        _currentGet1: \"\",\n        _currentDays: \"\",\n        setItemSeq: 0,\n        _resultItems: []\n    },\n\n    onLoad: function onLoad() {\n        cc.loader.load(cc.url.raw(\"resources/challenge.json\"), (function (error, data) {\n            // JSONファイルからデータを読み込む\n            if (error !== null) return; // エラーがない場合、処理を抜ける\n            this._dataJson = data;\n\n            var today = new Date(); // 今日の日付の取得\n            // 時刻を0:00にする\n            today = new Date(today.getFullYear(), today.getMonth(), today.getDate(), 0, 0, 0);\n            // 経過日数を計算\n            this._resultItems = [];\n            for (var i = 0; i < this._dataJson.length; i++) {\n                var startDays // 開始日の経過日数\n                = Math.floor((today.getTime() - new Date(data[i].Start).getTime()) / this._msecToDay);\n                var endDays // 終了日の経過日数\n                = Math.floor((today.getTime() - new Date(data[i].End).getTime()) / this._msecToDay);\n\n                this._dataJson[i].Start = startDays.toString();\n                this._dataJson[i].End = endDays.toString();\n                this._dataJson[i].Days = String(endDays) + \"〜\" + String(startDays) + \"日前\";\n\n                var item = cc.instantiate(this.itemTemplateResult);\n                // ダンジョン名\n                item.getChildByName(\"labelName\").getComponent(cc.Label).string = this._dataJson[i].Name;\n                // ステージ\n                item.getChildByName(\"labelStage\").getComponent(cc.Label).string = this._dataJson[i].Stage;\n                // 日付\n                item.getChildByName(\"labelDays\").getComponent(cc.Label).string = this._dataJson[i].Days;\n                // 報酬\n                var textGet = this._dataJson[i].Get1;\n                if (this._dataJson[i].Get2 !== \"\") {\n                    textGet = textGet + \"\\n\" + this._dataJson[i].Get2;\n                }\n                item.getChildByName(\"labelGet1\").getComponent(cc.Label).string = textGet;\n\n                item.getComponent(\"controlItemResult\")._index = i; // インデックスを保持\n                item.setPosition(0, 0); // 位置を(0, 0)にする\n\n                this._resultItems.push(item); // テンプレートから項目を作成\n            }\n            this._dataResult = this._dataJson;\n            this.setItemResult(); // 結果一覧更新\n\n            // 報酬一覧\n            for (var i = 0; i < this._dataJson.length; i++) {\n                // データ数分、リストに項目を追加\n                if (this._dataJson[i].Get1Sort !== \"\") {\n                    var item = cc.instantiate(this.itemTemplateGet1); // テンプレートから項目を作成\n                    item.getChildByName(\"labelGet1\").getComponent(cc.Label).string = this._dataJson[i].Get1Sort; // ラベルに表示\n                    item.getComponent(\"controlItemGet1\")._index = i; // インデックスを保持\n                    item.getComponent(\"controlItemGet1\")._text = this._dataJson[i].Get1Sort; // ラベルのテキストを保持\n                    item.setPosition(0, 0); // 位置を(0, 0)にする\n                    this.scrollViewGet1.content.addChild(item); // リストに追加\n                } else {\n                        break;\n                    }\n            }\n            // 日程\n            for (var i = 7; i <= 9; i++) {\n                var item = cc.instantiate(this.buttonItemDaysNum); // テンプレートから項目を作成\n                item.getChildByName(\"labelDaysNum\").getComponent(cc.Label).string = i;\n                item.getComponent(\"controlItemDaysNum\")._index = i; // インデックスを保持\n                item.getComponent(\"controlItemDaysNum\")._text = i.toString(); // インデックスを保持\n                item.setPosition(0, 0); // 位置を(0, 0)にする\n                this.spriteDays.addChild(item);\n            }\n            for (var i = 4; i <= 6; i++) {\n                var item = cc.instantiate(this.buttonItemDaysNum); // テンプレートから項目を作成\n                item.getChildByName(\"labelDaysNum\").getComponent(cc.Label).string = i;\n                item.getComponent(\"controlItemDaysNum\")._index = i; // インデックスを保持\n                item.getComponent(\"controlItemDaysNum\")._text = i.toString(); // インデックスを保持\n                item.setPosition(0, 0); // 位置を(0, 0)にする\n                this.spriteDays.addChild(item);\n            }\n            for (var i = 1; i <= 3; i++) {\n                var item = cc.instantiate(this.buttonItemDaysNum); // テンプレートから項目を作成\n                item.getChildByName(\"labelDaysNum\").getComponent(cc.Label).string = i;\n                item.getComponent(\"controlItemDaysNum\")._index = i; // インデックスを保持\n                item.getComponent(\"controlItemDaysNum\")._text = i.toString(); // インデックスを保持\n                item.setPosition(0, 0); // 位置を(0, 0)にする\n                this.spriteDays.addChild(item);\n            }\n            {\n                var item = cc.instantiate(this.buttonItemDaysNum); // テンプレートから項目を作成\n                item.getChildByName(\"labelDaysNum\").getComponent(cc.Label).string = 0;\n                item.getComponent(\"controlItemDaysNum\")._index = 0; // インデックスを保持\n                item.getComponent(\"controlItemDaysNum\")._text = \"0\"; // インデックスを保持\n                item.setPosition(0, 0); // 位置を(0, 0)にする\n                this.spriteDays.addChild(item);\n            }\n            {\n                var item = cc.instantiate(this.buttonItemDaysReturn); // テンプレートから項目を作成\n                item.setPosition(0, 0); // 位置を(0, 0)にする\n                this.spriteDays.addChild(item);\n            }\n        }).bind(this));\n    },\n\n    setItemResult: function setItemResult() {\n        // Itemを全削除\n        this.scrollViewResult.content.removeAllChildren();\n        this.scrollViewResult.content.setContentSize(this.scrollViewResult.content.getContentSize().width, 0);\n\n        for (var i = 0; i < this._dataJson.length; i++) {\n            // データ数分、リストに項目を追加\n            // 報酬フィルタ\n            var get1Flg = false;\n            if (this._currentGet1 === \"\") {\n                get1Flg = true;\n            } else {\n                if (this._dataJson[i].Get1 === this._currentGet1) {\n                    get1Flg = true;\n                }\n            }\n            // 日程フィルタ\n            var daysFlg = false;\n            if (this._currentDays === \"\") {\n                daysFlg = true;\n            } else {\n                if (Number(this._dataJson[i].End) <= Number(this._currentDays) && Number(this._currentDays) <= Number(this._dataJson[i].Start)) {\n                    daysFlg = true;\n                }\n            }\n            if (!get1Flg || !daysFlg) continue;\n\n            //var item = cc.instantiate(this.itemTemplateResult); // テンプレートから項目を作成\n            var item = this._resultItems[i];\n\n            this.scrollViewResult.content.addChild(item); // リストに追加\n        }\n        this.spriteLoading.node.opacity = 0;\n        this.setItemSeq = 0;\n    },\n\n    clickButtonItemResult: function clickButtonItemResult(item) {\n        // 項目クリック時\n        cc.log(\"text\");\n    },\n\n    // 報酬一覧\n    clickButtonItemGet1: function clickButtonItemGet1(item) {\n        this._currentGet1 = item.getComponent(\"controlItemGet1\")._text;\n        this.labelResetGet1.string = this._currentGet1;\n        this._daysReturnFlg = true;\n        this.setItemFlg = 1;\n    },\n\n    // 日程\n    clickButtonItemDaysNum: function clickButtonItemDaysNum(item) {\n        if (this._daysReturnFlg) {\n            this._daysReturnFlg = false;\n            this._currentDays = \"\";\n        }\n        this._currentDays += item.getComponent(\"controlItemDaysNum\")._text;\n        this.labelResetDays.string = this._currentDays;\n    },\n\n    clickButtonItemDaysReturn: function clickButtonItemDaysReturn() {\n        if (this._currentDays === \"\") return; //入力がない場合、処理を抜ける\n        this._daysReturnFlg = true;\n        this.setItemFlg = 1;\n    },\n\n    clickButtonResetGet1: function clickButtonResetGet1() {\n        if (this._currentGet1 === \"\") return; //入力がない場合、処理を抜ける\n        this._currentGet1 = \"\";\n        this.setItemFlg = 1;\n        this.labelResetGet1.string = this._currentGet1;\n    },\n\n    clickButtonResetDays: function clickButtonResetDays() {\n        if (this._currentDays === \"\") return; //入力がない場合、処理を抜ける\n        this._currentDays = \"\";\n        this.labelResetDays.string = this._currentDays;\n        if (this._daysReturnFlg) {\n            this.setItemFlg = 1;\n            this._daysReturnFlg = false;\n        }\n    },\n\n    update: function update(dt) {\n        switch (this.setItemFlg) {\n            case 1:\n                this.spriteLoading.node.opacity = 172;\n                this.setItemFlg++;\n                break;\n            case 2:\n                this.setItemResult();\n                this.setItemFlg++;\n                break;\n        }\n    }\n});\n\ncc._RFpop();\n},{}]},{},[\"controlItemResult\",\"main\",\"controlItemGet1\",\"controlItemDaysNum\",\"controlItemDaysReturn\"])\n\n","\"use strict\";\ncc._RFpush(module, 'fb101I2C+FH+pER9cveuDmS', 'controlItemDaysReturn');\n// Script/controlItemDaysReturn.js\n\ncc.Class({\n    \"extends\": cc.Component,\n\n    properties: {\n        _index: null, // インデックスを保持\n        _text: \"\" },\n\n    // ボタンのテキストを保持\n    onClick: function onClick() {\n        // クリック時のイベント\n        // 親ノードを渡す\n        var obj = cc.find(\"Canvas\");\n        cc.find(\"Canvas\").getComponent(\"main\").clickButtonItemDaysReturn();\n    }\n});\n\ncc._RFpop();","\"use strict\";\ncc._RFpush(module, '4ecb7nXgMJNabQ7iv+qIbgj', 'controlItemGet1');\n// Script/controlItemGet1.js\n\ncc.Class({\n    \"extends\": cc.Component,\n\n    properties: {\n        _index: null, // インデックスを保持\n        _text: \"\" },\n\n    // ボタンのテキストを保持\n    onClick: function onClick() {\n        // クリック時のイベント\n        // 親ノードを渡す\n        var obj = cc.find(\"Canvas\");\n        cc.find(\"Canvas\").getComponent(\"main\").clickButtonItemGet1(this.node);\n    }\n});\n\ncc._RFpop();","\"use strict\";\ncc._RFpush(module, '15476k0nExA16YPcLaXu2Oz', 'controlItemResult');\n// Script/controlItemResult.js\n\ncc.Class({\n    \"extends\": cc.Component,\n\n    properties: {\n        _index: null },\n\n    // インデックスを保持\n    onClick: function onClick() {\n        // クリック時のイベント\n        // ListViewのListViewControlコンポーネントに親ノードを渡す\n        cc.find(\"Canvas\").getComponent(\"main\").clickItem(this.node);\n    }\n});\n\ncc._RFpop();","\"use strict\";\ncc._RFpush(module, '280c3rsZJJKnZ9RqbALVwtK', 'main');\n// Script/main.js\n\ncc.Class({\n    \"extends\": cc.Component,\n\n    properties: {\n        // 結果一覧\n        itemTemplateResult: { // リスト項目のテンプレート\n            \"default\": null, // デフォルト値\n            type: cc.Prefab },\n        // 型\n        //type: cc.Node, // 型\n        scrollViewResult: { // 『ListView』の作成に使用した『cc.ScrollView』\n            \"default\": null, // デフォルト値\n            type: cc.ScrollView // 型\n        },\n        // 報酬一覧\n        itemTemplateGet1: { // リスト項目のテンプレート\n            \"default\": null, // デフォルト値\n            type: cc.Prefab },\n        // 型\n        //type: cc.Node, // 型\n        scrollViewGet1: { // 『cc.ScrollView』\n            \"default\": null, // デフォルト値\n            type: cc.ScrollView // 型\n        },\n        buttonResetGet1: {\n            \"default\": null, // デフォルト値\n            type: cc.Button },\n        // 型\n        labelResetGet1: {\n            \"default\": null, // デフォルト値\n            type: cc.Label },\n        // 型\n        // 日程入力\n        buttonItemDaysNum: { // リスト項目のテンプレート\n            \"default\": null, // デフォルト値\n            type: cc.Prefab },\n        // 型\n        buttonItemDaysReturn: { // リスト項目のテンプレート\n            \"default\": null, // デフォルト値\n            type: cc.Prefab },\n        // 型\n        spriteDays: {\n            \"default\": null, // デフォルト値\n            type: cc.Node },\n        // 型\n        buttonResetDays: {\n            \"default\": null, // デフォルト値\n            type: cc.Button },\n        // 型\n        labelResetDays: {\n            \"default\": null, // デフォルト値\n            type: cc.Label },\n        // 型\n        spriteLoading: {\n            \"default\": null, // デフォルト値\n            type: cc.Sprite },\n        // 型\n        labelLoading: {\n            \"default\": null, // デフォルト値\n            type: cc.Label },\n        // 型\n        _dataJson: null,\n        _msecToDay: {\n            \"default\": 1000 * 60 * 60 * 24,\n            type: Number,\n            readonly: true\n        },\n        _daysReturnFlg: false,\n        _currentGet1: \"\",\n        _currentDays: \"\",\n        setItemSeq: 0,\n        _resultItems: []\n    },\n\n    onLoad: function onLoad() {\n        cc.loader.load(cc.url.raw(\"resources/challenge.json\"), (function (error, data) {\n            // JSONファイルからデータを読み込む\n            if (error !== null) return; // エラーがない場合、処理を抜ける\n            this._dataJson = data;\n\n            var today = new Date(); // 今日の日付の取得\n            // 時刻を0:00にする\n            today = new Date(today.getFullYear(), today.getMonth(), today.getDate(), 0, 0, 0);\n            // 経過日数を計算\n            this._resultItems = [];\n            for (var i = 0; i < this._dataJson.length; i++) {\n                var startDays // 開始日の経過日数\n                = Math.floor((today.getTime() - new Date(data[i].Start).getTime()) / this._msecToDay);\n                var endDays // 終了日の経過日数\n                = Math.floor((today.getTime() - new Date(data[i].End).getTime()) / this._msecToDay);\n\n                this._dataJson[i].Start = startDays.toString();\n                this._dataJson[i].End = endDays.toString();\n                this._dataJson[i].Days = String(endDays) + \"〜\" + String(startDays) + \"日前\";\n\n                var item = cc.instantiate(this.itemTemplateResult);\n                // ダンジョン名\n                item.getChildByName(\"labelName\").getComponent(cc.Label).string = this._dataJson[i].Name;\n                // ステージ\n                item.getChildByName(\"labelStage\").getComponent(cc.Label).string = this._dataJson[i].Stage;\n                // 日付\n                item.getChildByName(\"labelDays\").getComponent(cc.Label).string = this._dataJson[i].Days;\n                // 報酬\n                var textGet = this._dataJson[i].Get1;\n                if (this._dataJson[i].Get2 !== \"\") {\n                    textGet = textGet + \"\\n\" + this._dataJson[i].Get2;\n                }\n                item.getChildByName(\"labelGet1\").getComponent(cc.Label).string = textGet;\n\n                item.getComponent(\"controlItemResult\")._index = i; // インデックスを保持\n                item.setPosition(0, 0); // 位置を(0, 0)にする\n\n                this._resultItems.push(item); // テンプレートから項目を作成\n            }\n            this._dataResult = this._dataJson;\n            this.setItemResult(); // 結果一覧更新\n\n            // 報酬一覧\n            for (var i = 0; i < this._dataJson.length; i++) {\n                // データ数分、リストに項目を追加\n                if (this._dataJson[i].Get1Sort !== \"\") {\n                    var item = cc.instantiate(this.itemTemplateGet1); // テンプレートから項目を作成\n                    item.getChildByName(\"labelGet1\").getComponent(cc.Label).string = this._dataJson[i].Get1Sort; // ラベルに表示\n                    item.getComponent(\"controlItemGet1\")._index = i; // インデックスを保持\n                    item.getComponent(\"controlItemGet1\")._text = this._dataJson[i].Get1Sort; // ラベルのテキストを保持\n                    item.setPosition(0, 0); // 位置を(0, 0)にする\n                    this.scrollViewGet1.content.addChild(item); // リストに追加\n                } else {\n                        break;\n                    }\n            }\n            // 日程\n            for (var i = 7; i <= 9; i++) {\n                var item = cc.instantiate(this.buttonItemDaysNum); // テンプレートから項目を作成\n                item.getChildByName(\"labelDaysNum\").getComponent(cc.Label).string = i;\n                item.getComponent(\"controlItemDaysNum\")._index = i; // インデックスを保持\n                item.getComponent(\"controlItemDaysNum\")._text = i.toString(); // インデックスを保持\n                item.setPosition(0, 0); // 位置を(0, 0)にする\n                this.spriteDays.addChild(item);\n            }\n            for (var i = 4; i <= 6; i++) {\n                var item = cc.instantiate(this.buttonItemDaysNum); // テンプレートから項目を作成\n                item.getChildByName(\"labelDaysNum\").getComponent(cc.Label).string = i;\n                item.getComponent(\"controlItemDaysNum\")._index = i; // インデックスを保持\n                item.getComponent(\"controlItemDaysNum\")._text = i.toString(); // インデックスを保持\n                item.setPosition(0, 0); // 位置を(0, 0)にする\n                this.spriteDays.addChild(item);\n            }\n            for (var i = 1; i <= 3; i++) {\n                var item = cc.instantiate(this.buttonItemDaysNum); // テンプレートから項目を作成\n                item.getChildByName(\"labelDaysNum\").getComponent(cc.Label).string = i;\n                item.getComponent(\"controlItemDaysNum\")._index = i; // インデックスを保持\n                item.getComponent(\"controlItemDaysNum\")._text = i.toString(); // インデックスを保持\n                item.setPosition(0, 0); // 位置を(0, 0)にする\n                this.spriteDays.addChild(item);\n            }\n            {\n                var item = cc.instantiate(this.buttonItemDaysNum); // テンプレートから項目を作成\n                item.getChildByName(\"labelDaysNum\").getComponent(cc.Label).string = 0;\n                item.getComponent(\"controlItemDaysNum\")._index = 0; // インデックスを保持\n                item.getComponent(\"controlItemDaysNum\")._text = \"0\"; // インデックスを保持\n                item.setPosition(0, 0); // 位置を(0, 0)にする\n                this.spriteDays.addChild(item);\n            }\n            {\n                var item = cc.instantiate(this.buttonItemDaysReturn); // テンプレートから項目を作成\n                item.setPosition(0, 0); // 位置を(0, 0)にする\n                this.spriteDays.addChild(item);\n            }\n        }).bind(this));\n    },\n\n    setItemResult: function setItemResult() {\n        // Itemを全削除\n        this.scrollViewResult.content.removeAllChildren();\n        this.scrollViewResult.content.setContentSize(this.scrollViewResult.content.getContentSize().width, 0);\n\n        for (var i = 0; i < this._dataJson.length; i++) {\n            // データ数分、リストに項目を追加\n            // 報酬フィルタ\n            var get1Flg = false;\n            if (this._currentGet1 === \"\") {\n                get1Flg = true;\n            } else {\n                if (this._dataJson[i].Get1 === this._currentGet1) {\n                    get1Flg = true;\n                }\n            }\n            // 日程フィルタ\n            var daysFlg = false;\n            if (this._currentDays === \"\") {\n                daysFlg = true;\n            } else {\n                if (Number(this._dataJson[i].End) <= Number(this._currentDays) && Number(this._currentDays) <= Number(this._dataJson[i].Start)) {\n                    daysFlg = true;\n                }\n            }\n            if (!get1Flg || !daysFlg) continue;\n\n            //var item = cc.instantiate(this.itemTemplateResult); // テンプレートから項目を作成\n            var item = this._resultItems[i];\n\n            this.scrollViewResult.content.addChild(item); // リストに追加\n        }\n        this.spriteLoading.node.opacity = 0;\n        this.setItemSeq = 0;\n    },\n\n    clickButtonItemResult: function clickButtonItemResult(item) {\n        // 項目クリック時\n        cc.log(\"text\");\n    },\n\n    // 報酬一覧\n    clickButtonItemGet1: function clickButtonItemGet1(item) {\n        this._currentGet1 = item.getComponent(\"controlItemGet1\")._text;\n        this.labelResetGet1.string = this._currentGet1;\n        this._daysReturnFlg = true;\n        this.setItemFlg = 1;\n    },\n\n    // 日程\n    clickButtonItemDaysNum: function clickButtonItemDaysNum(item) {\n        if (this._daysReturnFlg) {\n            this._daysReturnFlg = false;\n            this._currentDays = \"\";\n        }\n        this._currentDays += item.getComponent(\"controlItemDaysNum\")._text;\n        this.labelResetDays.string = this._currentDays;\n    },\n\n    clickButtonItemDaysReturn: function clickButtonItemDaysReturn() {\n        if (this._currentDays === \"\") return; //入力がない場合、処理を抜ける\n        this._daysReturnFlg = true;\n        this.setItemFlg = 1;\n    },\n\n    clickButtonResetGet1: function clickButtonResetGet1() {\n        if (this._currentGet1 === \"\") return; //入力がない場合、処理を抜ける\n        this._currentGet1 = \"\";\n        this.setItemFlg = 1;\n        this.labelResetGet1.string = this._currentGet1;\n    },\n\n    clickButtonResetDays: function clickButtonResetDays() {\n        if (this._currentDays === \"\") return; //入力がない場合、処理を抜ける\n        this._currentDays = \"\";\n        this.labelResetDays.string = this._currentDays;\n        if (this._daysReturnFlg) {\n            this.setItemFlg = 1;\n            this._daysReturnFlg = false;\n        }\n    },\n\n    update: function update(dt) {\n        switch (this.setItemFlg) {\n            case 1:\n                this.spriteLoading.node.opacity = 172;\n                this.setItemFlg++;\n                break;\n            case 2:\n                this.setItemResult();\n                this.setItemFlg++;\n                break;\n        }\n    }\n});\n\ncc._RFpop();"],"sourceRoot":"/source/"}